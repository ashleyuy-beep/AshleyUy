<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal</title>
  <style>
    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10002;
      transition: opacity 0.5s ease;
    }

    .loading-text {
      font-size: 1rem;
      font-weight: 300;
      animation: blink 1.5s infinite;
    }

    @keyframes blink {
      0%,
      100% {
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
    }

    /* Global Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      width: 100%;
      height: 100%;
      font-family: "Helvetica Neue Thin", sans-serif;
      background-color: #fff;
      padding-top: 60px;
      scroll-behavior: smooth;
    }

    /* Header Navigation */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: rgba(255, 255, 255, 0.9);
      z-index: 10000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1em 2em;
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
    }

    .site-logo {
      font-size: 25px;
      font-weight: 300;
      line-height: 1;
      transition: transform 0.3s ease;
    }

    .site-logo:hover {
      transform: translateY(-2px);
    }

    .nav-icons {
      display: flex;
      gap: 1.5em;
      align-items: center;
    }

    .nav-icon {
      cursor: pointer;
      width: 24px;
      height: 24px;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .nav-icon:hover {
      transform: scale(1.1);
    }

    .grid-icon {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-gap: 2px;
      width: 18px;
      height: 18px;
    }

    .grid-dot {
      width: 4px;
      height: 4px;
      background-color: black;
      border-radius: 50%;
    }

    .singular-icon {
      display: flex;
      flex-direction: column;
      gap: 4px;
      width: 18px;
    }

    .line {
      width: 18px;
      height: 2px;
      background-color: black;
      transition: width 0.3s ease;
    }

    .nav-icon:hover .line {
      width: 15px;
    }

    .overlay-icon {
      width: 18px;
      height: 18px;
      background-color: black;
      border-radius: 50%;
      transition: transform 0.3s ease;
    }

    .nav-icon:hover .overlay-icon {
      transform: scale(0.9);
    }

    /* View toggle icons */
    #view-toggle {
      position: relative;
      width: 24px;
      height: 24px;
    }

    #grid-view, #singular-view {
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    #grid-view.active, #singular-view.active {
      opacity: 1;
      visibility: visible;
    }

    /* Close button for overlay */
    .close-overlay {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 30px;
      height: 30px;
      cursor: pointer;
      z-index: 10002;
      display: none;
    }

    .close-overlay::before,
    .close-overlay::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 2px;
      background-color: black;
    }

    .close-overlay::before {
      transform: rotate(45deg);
    }

    .close-overlay::after {
      transform: rotate(-45deg);
    }

    .overlay-menu.active .close-overlay {
      display: block;
      animation: fadeIn 0.3s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* Overlay Menu */
    .overlay-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: white;
      z-index: 10001;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .overlay-menu.active {
      display: flex;
      opacity: 1;
    }

    .menu-item {
      margin: 15px 0;
      font-size: 28px;
      font-weight: 300;
      position: relative;
      overflow: hidden;
      transition: transform 0.3s ease;
    }

    .menu-item:hover {
      transform: translateY(-3px);
    }

    .menu-item a {
      position: relative;
      display: inline-block;
    }

    .menu-item a::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 1px;
      background-color: black;
      transition: width 0.3s ease;
    }

    .menu-item a:hover::after {
      width: 100%;
    }

    /* Gallery Layouts */
    .gallery {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1em;
      padding: 2em;
      transition: all 0.5s ease;
    }

    .gallery.singular-view {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2em;
    }

    .gallery img {
      width: 100%;
      height: auto;
      object-fit: cover;
      cursor: pointer;
      transition: opacity 0.5s ease, transform 0.3s ease;
      opacity: 0;
      aspect-ratio: 4 / 5;
      transform: translateY(20px);
    }

    .gallery.singular-view img {
      width: auto;
      max-width: 80%;
      max-height: 80vh;
      aspect-ratio: auto;
    }

    .gallery img.loaded {
      opacity: 1;
      transform: translateY(0);
    }

    .gallery img:hover {
      transform: scale(1.05);
    }

    .gallery.singular-view img:hover {
      transform: none;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 50px;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.9);
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .modal.show {
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 1;
    }

    .modal-content-wrapper {
      position: relative;
      width: 90%;
      max-width: 1200px;
      height: 90%;
      display: flex;
      flex-direction: column;
      transform: scale(0.95);
      opacity: 0;
      transition: transform 0.5s ease, opacity 0.5s ease;
    }

    .modal.show .modal-content-wrapper {
      transform: scale(1);
      opacity: 1;
    }

    .modal-content {
      max-width: 100%;
      max-height: calc(100% - 100px);
      object-fit: contain;
    }

    .thumbnail-strip {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding: 10px 0;
      scrollbar-width: thin;
      scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
    }

    .thumbnail-strip::-webkit-scrollbar {
      height: 6px;
    }

    .thumbnail-strip::-webkit-scrollbar-track {
      background: transparent;
    }

    .thumbnail-strip::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.3);
      border-radius: 6px;
    }

    .thumbnail {
      width: 80px;
      height: 80px;
      object-fit: cover;
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .thumbnail:hover {
      transform: translateY(-3px);
    }

    .thumbnail.active {
      opacity: 1;
      border: 2px solid white;
    }

    .close {
      position: absolute;
      top: 10px;
      right: 10px;
      color: #fff;
      font-size: 24px;
      font-weight: 300;
      background: none;
      border: none;
      cursor: pointer;
      z-index: 1100;
      transition: transform 0.3s ease, color 0.3s ease;
    }

    .close:hover,
    .close:focus {
      color: #bbb;
      transform: rotate(90deg);
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 20px;
      font-size: 14px;
      color: #666;
      margin-top: 20px;
      transition: opacity 0.3s ease;
    }

    footer a {
      color: #333;
      transition: color 0.3s ease;
    }

    footer a:hover {
      color: #000;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .gallery {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.5em;
        padding: 1em;
      }

      .header {
        padding: 1em;
      }

      .site-logo {
        font-size: 20px;
      }

      .loading-text {
        font-size: 2rem;
      }

      .close {
        font-size: 24px;
        top: 15px;
        right: 15px;
      }

      .modal-content-wrapper {
        width: 95%;
        height: 85%;
      }

      .menu-item {
        font-size: 24px;
      }
    }

    @media (max-width: 480px) {
      .gallery {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.3em;
      }

      .header {
        padding: 0.5em 1em;
      }

      .loading-text {
        font-size: 1.5rem;
      }

      .nav-icons {
        gap: 1em;
      }
    }

    /* Remove default link styling */
    a {
      text-decoration: none;
      color: inherit;
    }

    @media (hover: none) {
      .gallery img:hover {
        transform: none;
      }
    }

    /* Animation for staggered image loading */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <h2 class="loading-text">Personal</h2>
  </div>

  <!-- Header Navigation -->
  <header class="header">
    <div class="site-logo">
      <a href="home.html">Ashley Uy</a>
    </div>
    <div class="nav-icons">
      <div id="view-toggle">
        <!-- Grid view icon (shown when in singular view) -->
        <div class="nav-icon" id="grid-view">
          <div class="grid-icon">
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
            <div class="grid-dot"></div>
          </div>
        </div>
        <!-- Singular view icon (shown when in grid view) -->
        <div class="nav-icon" id="singular-view" class="active">
          <div class="singular-icon">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
          </div>
        </div>
      </div>
      <div class="nav-icon" id="menu-toggle">
        <div class="overlay-icon"></div>
      </div>
    </div>
  </header>

  <!-- Overlay Menu -->
  <div class="overlay-menu" id="overlay-menu">
    <div class="close-overlay" id="close-overlay"></div>
    <div class="menu-item"><a href="home.html">Home</a></div>
    <div class="menu-item"><a href="commercial.html">Commercial</a></div>
    <div class="menu-item"><a href="personal.html">Personal</a></div>
    <div class="menu-item"><a href="about.html">About</a></div>
    
  </div>

  <div class="gallery" id="gallery">
    <!-- Images will be added dynamically via JavaScript -->
  </div>

  <!-- Updated Modal Structure -->
  <div class="modal">
    <button class="close" aria-label="Close modal">&times;</button>
    <div class="modal-content-wrapper">
      <img class="modal-content" id="modal-image" alt="Featured image">
      <div class="thumbnail-strip" id="thumbnail-strip">
        <!-- Thumbnails will be added dynamically -->
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    Website Designed by <a href="https://robingabrieldesign.com" target="_blank">Robin Gabriel Â©</a>
  </footer>

  <script>
    // Dummy images for gallery
    const images = [
      'images/PERSONAL PROJECT/Untitled (3).JPG',
      'images/PERSONAL PROJECT/DSCF0466 copy.jpg',
      'images/PERSONAL PROJECT/DSCF0476 copy.jpg',
      'images/PERSONAL PROJECT/Image 2 (3).JPG',
      'images/PERSONAL PROJECT/Image 2 (4).JPG',
      'images/PERSONAL PROJECT/Image 3 (4).JPG',
      'images/PERSONAL PROJECT/Image 3 (5).JPG',
      'images/PERSONAL PROJECT/Image 4 (2).JPG',
      'images/PERSONAL PROJECT/Image 4.JPG',
      'images/PERSONAL PROJECT/Image 5.JPG',
      'images/PERSONAL PROJECT/Image 6 (3).JPG',
      'images/PERSONAL PROJECT/Image 7 (2).JPG',
      'images/PERSONAL PROJECT/IMG_0309.JPG',
      'images/PERSONAL PROJECT/IMG_0317.JPG',
      'images/PERSONAL PROJECT/IMG_0788.JPG',
      'images/PERSONAL PROJECT/IMG_0847.JPG',
      'images/PERSONAL PROJECT/IMG_3521.JPG',
      'images/PERSONAL PROJECT/IMG_7417.JPG',
      'images/PERSONAL PROJECT/IMG_7553.JPG',
      'images/PERSONAL PROJECT/P1020733.JPG',
      'images/PERSONAL PROJECT/P1020783.JPG',
      'images/PERSONAL PROJECT/P1020804.JPG',
      'images/PERSONAL PROJECT/IMG_7579.JPG',
      'images/PERSONAL PROJECT/IMG_1042.JPG',
      'images/PERSONAL PROJECT/DSCF0425 Large.jpeg',
      'images/PERSONAL PROJECT/Image 1 Large.jpeg',
      'images/PERSONAL PROJECT/Image 3 Large.jpeg',
      'images/PERSONAL PROJECT/Image 4 Large 3.13.20 PM.jpeg',
      'images/PERSONAL PROJECT/Image 5 (2) Large.jpeg',
      'images/PERSONAL PROJECT/Image 6 (2) Large.jpeg',
      'images/PERSONAL PROJECT/Image 7 (3) Large.jpeg',
      'images/PERSONAL PROJECT/Image 7 (4) Large.jpeg',
      'images/PERSONAL PROJECT/Image Large.jpeg',
      'images/PERSONAL PROJECT/IMG_4892 Large.jpeg',
      'images/PERSONAL PROJECT/IMG_5533 Large.jpeg',
      'images/PERSONAL PROJECT/P1020888 Large.jpeg',
      'images/PERSONAL PROJECT/P1020895 Large.jpeg',
      'images/PERSONAL PROJECT/P1020896 Large.jpeg',
      'images/PERSONAL PROJECT/PERSONAL!!!! Large.jpeg',
    ];

    const gallery = document.querySelector(".gallery");
    const modal = document.querySelector(".modal");
    const modalImage = document.getElementById("modal-image");
    const thumbnailStrip = document.getElementById("thumbnail-strip");
    const closeModal = document.querySelector(".close");
    const loadingScreen = document.getElementById("loading-screen");
    const overlayMenu = document.getElementById("overlay-menu");
    const menuToggle = document.getElementById("menu-toggle");
    const closeOverlay = document.getElementById("close-overlay");
    const gridViewBtn = document.getElementById("grid-view");
    const singularViewBtn = document.getElementById("singular-view");
    const viewToggle = document.getElementById("view-toggle");

    // Initialize view mode
    let isGridView = true;
    updateViewIcons();

    // Function to update view icons based on current view
    function updateViewIcons() {
      if (isGridView) {
        // In grid view, show singular icon
        singularViewBtn.classList.add("active");
        gridViewBtn.classList.remove("active");
      } else {
        // In singular view, show grid icon
        gridViewBtn.classList.add("active");
        singularViewBtn.classList.remove("active");
      }
    }

    // Toggle menu with animation
    menuToggle.addEventListener("click", () => {
      overlayMenu.classList.add("active");
    });

    // Close overlay with X button
    closeOverlay.addEventListener("click", () => {
      overlayMenu.classList.remove("active");
    });

    // Toggle view modes
    viewToggle.addEventListener("click", () => {
      isGridView = !isGridView;
      gallery.classList.toggle("singular-view");
      updateViewIcons();
      
      // Apply staggered animation to images when switching views
      const allImages = gallery.querySelectorAll("img");
      allImages.forEach((img, index) => {
        img.style.animationDelay = `${index * 0.05}s`;
        img.style.animation = "fadeInUp 0.5s ease forwards";
        
        // Reset animation after it completes
        setTimeout(() => {
          img.style.animation = "";
        }, 500 + (index * 50));
      });
    });

    // Modified populateGallery function with staggered loading
    function populateGallery() {
      console.log("Populating gallery...");
      let loadedImages = 0;

      images.forEach((src, index) => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = `Image ${index + 1}`;
        img.dataset.index = index;
        img.style.transitionDelay = `${index * 0.03}s`;

        img.addEventListener("load", () => {
          console.log(`Image ${index + 1} loaded successfully`);
          loadedImages++;
          
          // Add a slight delay before showing each image for a staggered effect
          setTimeout(() => {
            img.classList.add("loaded");
          }, index * 30);

          if (loadedImages === images.length) {
            setTimeout(() => {
              loadingScreen.style.opacity = "0";
              setTimeout(() => {
                loadingScreen.style.display = "none";
              }, 500);
            }, 1000);
          }
        });

        img.addEventListener("error", () => {
          console.error(`Failed to load image ${index + 1}: ${src}`);
          loadedImages++;
        });

        img.addEventListener("click", openModal);
        gallery.appendChild(img);
      });
    }

    // Modified openModal function with animations
    function openModal(e) {
      const clickedImage = e.target;
      const index = Number(clickedImage.dataset.index);

      // Clear existing thumbnails
      thumbnailStrip.innerHTML = "";

      // Create thumbnails with staggered loading
      images.forEach((src, i) => {
        const thumbnail = document.createElement("img");
        thumbnail.src = src;
        thumbnail.alt = `Thumbnail ${i + 1}`;
        thumbnail.classList.add("thumbnail");
        thumbnail.style.opacity = "0";
        thumbnail.style.transform = "translateY(10px)";
        thumbnail.style.transition = "opacity 0.3s ease, transform 0.3s ease";
        thumbnail.style.transitionDelay = `${i * 0.01}s`;
        
        if (i === index) thumbnail.classList.add("active");

        thumbnail.addEventListener("click", () => {
          modalImage.style.opacity = "0";
          modalImage.style.transform = "scale(0.95)";
          
          setTimeout(() => {
            modalImage.src = src;
            modalImage.dataset.index = i;
            
            setTimeout(() => {
              modalImage.style.opacity = "1";
              modalImage.style.transform = "scale(1)";
            }, 50);
            
            // Update active thumbnail
            document.querySelectorAll(".thumbnail").forEach((thumb) => {
              thumb.classList.remove("active");
            });
            thumbnail.classList.add("active");
          }, 300);
        });

        thumbnailStrip.appendChild(thumbnail);
        
        // Trigger the animation after a small delay
        setTimeout(() => {
          thumbnail.style.opacity = "0.6";
          thumbnail.style.transform = "translateY(0)";
        }, 10 + (i * 10));
      });

      modalImage.style.opacity = "0";
      modalImage.style.transform = "scale(0.95)";
      modalImage.style.transition = "opacity 0.5s ease, transform 0.5s ease";
      
      setTimeout(() => {
        modalImage.src = clickedImage.src;
        modalImage.dataset.index = index;
        
        setTimeout(() => {
          modalImage.style.opacity = "1";
          modalImage.style.transform = "scale(1)";
        }, 100);
      }, 100);
      
      modal.classList.add("show");
      document.body.style.overflow = "hidden";
    }

    // Modified close modal function with animation
    function closeModalFunction() {
      modal.style.opacity = "0";
      
      setTimeout(() => {
        modal.classList.remove("show");
        modal.style.opacity = "1";
        document.body.style.overflow = "";
        // Clear thumbnails when closing
        thumbnailStrip.innerHTML = "";
      }, 500);
    }

    // Keep your existing event listeners
    closeModal.addEventListener("click", closeModalFunction);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) {
        closeModalFunction();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && modal.classList.contains("show")) {
        closeModalFunction();
      } else if (e.key === "Escape" && overlayMenu.classList.contains("active")) {
        overlayMenu.classList.remove("active");
      } else if (e.key === "ArrowRight" && modal.classList.contains("show")) {
        showNextImage();
      } else if (e.key === "ArrowLeft" && modal.classList.contains("show")) {
        showPreviousImage();
      }
    });

    // Initialize the gallery when the page loads
    window.addEventListener("load", () => {
      console.log("Page loaded");
      populateGallery();
      
      // Start in grid view by default
      isGridView = true;
      gallery.classList.remove("singular-view");
      updateViewIcons();
    });

    // Add touch support for mobile devices with improved animations
    let touchStartX = 0;
    let touchEndX = 0;

    function handleSwipe() {
      if (touchStartX - touchEndX > 50) {
        // Swipe left, show next image
        showNextImage();
      } else if (touchEndX - touchStartX > 50) {
        // Swipe right, show previous image
        showPreviousImage();
      }
    }

    modal.addEventListener("touchstart", (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });

    modal.addEventListener("touchend", (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });

    function showNextImage() {
      const currentIndex = Number.parseInt(modalImage.dataset.index);
      const nextIndex = (currentIndex + 1) % images.length;
      updateModalImage(nextIndex, 'next');
    }

    function showPreviousImage() {
      const currentIndex = Number.parseInt(modalImage.dataset.index);
      const previousIndex = (currentIndex - 1 + images.length) % images.length;
      updateModalImage(previousIndex, 'prev');
    }

    function updateModalImage(index, direction) {
      // Add slide animation based on direction
      const slideOut = direction === 'next' ? 'translateX(-50px)' : 'translateX(50px)';
      const slideIn = direction === 'next' ? 'translateX(50px)' : 'translateX(-50px)';
      
      modalImage.style.opacity = "0";
      modalImage.style.transform = slideOut;
      
      setTimeout(() => {
        modalImage.src = images[index];
        modalImage.dataset.index = index;
        modalImage.style.transform = slideIn;
        
        setTimeout(() => {
          modalImage.style.opacity = "1";
          modalImage.style.transform = "translateX(0)";
        }, 50);
        
        updateActiveThumbnail(index);
        
        // Scroll the active thumbnail into view
        const activeThumb = document.querySelector(".thumbnail.active");
        if (activeThumb) {
          activeThumb.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        }
      }, 300);
    }

    function updateActiveThumbnail(index) {
      const thumbnails = document.querySelectorAll(".thumbnail");
      thumbnails.forEach((thumb, i) => {
        if (i === index) {
          thumb.classList.add("active");
        } else {
          thumb.classList.remove("active");
        }
      });
    }

    // Close overlay menu when clicking on a menu item with animation
    document.querySelectorAll(".menu-item a").forEach(item => {
      item.addEventListener("click", () => {
        overlayMenu.style.opacity = "0";
        setTimeout(() => {
          overlayMenu.classList.remove("active");
          overlayMenu.style.opacity = "1";
        }, 300);
      });
    });

    console.log("JavaScript file loaded");
  </script>
</body>
</html>